---
output: html_document
---

```{r, echo = FALSE,message= FALSE, warning = FALSE}
library(tidyverse)
library(readxl)
```

```{r, echo = FALSE}
election_covid = read.csv("data/voting_covid_detail.csv")
age = read_excel("data/voting_age_county_level_clean_v2.0.xlsx")
poverty = read_excel("data/poverty_county_level__clean_v2.0.xlsx")
hospitals = read_excel("data/2020_health_facility_count.xlsx")
names(election_covid)[names(election_covid)=="County"] <- "county"
```

```{r, echo = FALSE}
final_data = list(election_covid,age,poverty,hospitals)
final_data = final_data %>% reduce(left_join, by = "county")
final_data = final_data %>%
  mutate(republician_percent = as.numeric(gsub("%", "", republician_percent)),
         democratic_percent = as.numeric(gsub("%", "", democratic_percent)),
         democratic_num = as.numeric(democratic_num),
         republician_num = as.numeric(republician_num),
         Test...Positive = as.numeric(gsub("%", "", Test...Positive)))
```


### Linear model of Trump without Covid factor

```{r}
#model1 = lm(republician_percent~below_poverty_percentage+below_30_percent+above_65_percent+count, data = final_data)
```


